## NullPointerException 空指针异常

- 避免空指针异常
 - 例：`booking.getCode.equals(BookingEnum.BLOCK.getCode())`,此段代码，如果对象booking的code为null，则null调用equals函数会报错空指针异常。
 - 因此，我们可以将确保有值的变量or常量去调用函数，即：`BookingEnum.BLOCK.getCode().equals(booking.getCode)`,这样枚举BLOCK的code是一定有值的，非空对象去调用equals函数，无论括号内的是null还是什么，都不会异常。



## 新类库使用技巧

### 查看一个未用过的类及其方法

- 可以下载引用类库的文档，在编译器控制台 使用命令：

  ```shell
  mvn dependency:sources
  ```

  以上命令即可下载所有引用类库的文档，如果未生效可以重启Invalidate Caches。

  通过类和方法上的注解了解类和方法的使用方式。

- 进一步了解可以通过浏览器查询关键字，或者看官方文档找example。

- 尝试输入类变量，链式访问其内部方法，先看都有什么方法，初步通过方法名筛选符合需求的方法。

- 找到合适的方法后，查看其入参，是lambda形式还是传入某个类实现。重点关注其入参类型，如果是某个接口或者抽象类定义，表明此类可扩展，可新建一个类去实现这个接口或者抽象类，实现或重写父类方法。重写完成后，在链式调用使用的方法中传入实现类。

- 完成后可以在Test模块或者定义一个Controller进行debug。

## 数据库问题汇总

### Sql链接失败

- 检查sql服务是否启用
  - 例如使用的homebrew，在终端输入 brew services list, 查看服务是否启用。

### Sql服务启动失败

- 例如postgresql启动失败，例如 brew services list显示 error 256

  - 删除pid文件，

    `rm -f /usr/local/var/postgresql@15/postmaster.pid`

    重新启动，先stop再start

    `brew services stop postgresql@15`

    `brew services start postgresql@15`